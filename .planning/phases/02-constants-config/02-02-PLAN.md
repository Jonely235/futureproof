---
phase: 02-constants-config
type: execute
---

<objective>
Replace hardcoded values in screen files with centralized constants.

Purpose: Update all screen files to use AppColors and AppStrings constants instead of hardcoded values, improving maintainability and consistency.
Output: Screen files using centralized constants throughout.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./02-01-SUMMARY.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-logging-foundation/01-03-SUMMARY.md
@.planning/phases/02-constants-config/02-01-SUMMARY.md
@lib/config/app_colors.dart
@lib/config/app_strings.dart
@lib/screens/add_expense_screen.dart
@lib/screens/home_screen.dart
@lib/screens/settings_screen.dart
@lib/screens/analytics_dashboard_screen.dart

**Tech stack available:** AppLogger utility, AppColors, AppStrings from 02-01
**Established patterns:** Singleton config classes, import aliases
**Constraining decisions:**
- Phase 1: Use AppLogger for all logging
- Phase 2 Plan 1: Use newly created AppColors and AppStrings
- No new features (refactoring only)
- Maintain backwards compatibility
</context>

<tasks>

<task type="auto">
  <name>Task 1: Replace hardcoded colors in add_expense_screen.dart</name>
  <files>lib/screens/add_expense_screen.dart</files>
  <action>Replace all hardcoded Color(0xFF______) values with AppColors constants:

1. Add import: `import '../../config/app_colors.dart';`

2. Replace color values using this mapping:
   - Color(0xFF0A0A0A) ‚Üí AppColors.black
   - Color(0xFFD4483A) ‚Üí AppColors.crimson or AppColors.danger
   - Color(0xFF4CAF50) ‚Üí AppColors.success
   - Color(0xFFFAFAFA) ‚Üí AppColors.offWhite
   - Color(0xFFE0E0E0) ‚Üí AppColors.gray300
   - Color(0xFF6B6B6B) ‚Üí AppColors.gray700
   - Color(0xFF9E9E9E) ‚Üí AppColors.gray500
   - Color(0xFFD4D4D4) ‚Üí AppColors.gray300
   - Color(0xFFFFFFFF) ‚Üí AppColors.white
   - Any other 0xFF values ‚Üí map to appropriate AppColors constant

3. DO NOT change the logic or structure - only replace Color() calls

4. Use Find: Color(0xFF to locate all occurrences

5. For each replacement, verify the semantic meaning:
   - Error/danger colors ‚Üí AppColors.danger or AppColors.crimson
   - Success colors ‚Üí AppColors.success
   - Background colors ‚Üí appropriate AppColors value
   - Text colors ‚Üí appropriate AppColors value

6. If uncertain about semantic meaning, preserve the hex value in a comment:
   ```dart
   color: AppColors.gray700 // Color(0xFF6B6B6B)
   ```</action>
  <verify>grep -c "Color(0xFF" lib/screens/add_expense_screen.dart returns 0 (or only in comments)</verify>
  <done>add_expense_screen.dart uses AppColors for all color constants, no hardcoded Color() values remain</done>
</task>

<task type="auto">
  <name>Task 2: Replace hardcoded emoji strings in screens</name>
  <files>lib/screens/add_expense_screen.dart, lib/models/transaction.dart</files>
  <action>Replace hardcoded emoji string literals with AppStrings constants:

1. For lib/screens/add_expense_screen.dart:
   - Add import: `import '../../config/app_strings.dart';`
   - Replace category emoji map values:
     - 'üõí' ‚Üí AppStrings.groceriesEmoji
     - 'üçΩÔ∏è' ‚Üí AppStrings.diningOutEmoji
     - 'üöó' ‚Üí AppStrings.transportEmoji
     - 'üé≠' ‚Üí AppStrings.entertainmentEmoji
     - 'üíä' ‚Üí AppStrings.healthEmoji
     - 'üõçÔ∏è' ‚Üí AppStrings.shoppingEmoji
   - Replace category name strings:
     - 'Groceries' ‚Üí AppStrings.groceries
     - 'Dining Out' ‚Üí AppStrings.diningOut
     - etc.

2. For lib/models/transaction.dart:
   - Add import: `import '../config/app_strings.dart';`
   - Replace 'üí∏' ‚Üí AppStrings.defaultTransactionEmoji

3. DO NOT change logic - only replace string literals with constants

4. Use Find: 'üõí', 'üçΩÔ∏è', 'üöó' to locate all emoji usage

5. Maintain map structure, just replace values with constants</action>
  <verify>grep -c "emojiMap\|emojiMap" lib/screens/add_expense_screen.dart returns 0 (all replaced with AppStrings)</verify>
  <done>Emoji strings replaced with AppStrings constants across all screen files</done>
</task>

<task type="auto">
  <name>Task 3: Update remaining screens with AppColors</name>
  <files>lib/screens/home_screen.dart, lib/screens/settings_screen.dart, lib/screens/analytics_dashboard_screen.dart</files>
  <action>Replace hardcoded Color() values in remaining screen files:

1. For each file (home_screen.dart, settings_screen.dart, analytics_dashboard_screen.dart):
   - Add import: `import '../../config/app_colors.dart';`
   - Search for Color(0xFF______) patterns
   - Replace with appropriate AppColors constants

2. Focus on these files - they likely have fewer hardcoded colors than add_expense_screen.dart

3. If no hardcoded colors found in a file, that's fine - log with AppLogger

4. Use AppLogger.home.info() etc. for logging (not print)

5. Common replacements:
   - Color(0xFF0A0A0A) ‚Üí AppColors.black
   - Color(0xFFD4483A) ‚Üí AppColors.danger
   - Color(0xFFFFFFFF) ‚Üí AppColors.white
   - etc.</action>
  <verify>grep -r "Color(0xFF" lib/screens/*.dart returns no results (excluding test files)</verify>
  <done>All screen files use AppColors constants, no hardcoded Color() values remain</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] flutter run starts without errors
- [ ] grep -r "Color(0xFF" lib/screens/*.dart returns no results
- [ ] grep -r "'üõí'\|'üçΩÔ∏è'" lib/screens/*.dart returns no results (or only in comments)
- [ ] All screens display correctly with new constants
- [ ] AppsColors and AppStrings imported and used
</verification>

<success_criteria>

- All hardcoded colors in screens replaced with AppColors
- All hardcoded emoji strings in screens replaced with AppStrings
- No visual changes to the app
- Screen functionality preserved
</success_criteria>

<output>
After completion, create `.planning/phases/02-constants-config/02-02-SUMMARY.md`:

# Phase 2 Plan 2: Screen Constants Summary

**Replaced hardcoded values in screen files with centralized constants**

## Accomplishments

- add_expense_screen.dart migrated to AppColors and AppStrings
- home_screen.dart migrated to AppColors
- settings_screen.dart migrated to AppColors
- analytics_dashboard_screen.dart migrated to AppColors
- transaction.dart migrated to AppStrings

## Files Created/Modified

- `lib/screens/add_expense_screen.dart` - Replaced hardcoded colors and emojis
- `lib/screens/home_screen.dart` - Replaced hardcoded colors
- `lib/screens/settings_screen.dart` - Replaced hardcoded colors
- `lib/screens/analytics_dashboard_screen.dart` - Replaced hardcoded colors
- `lib/models/transaction.dart` - Replaced hardcoded emoji

## Decisions Made

- Replaced all Color(0xFF______) with AppColors constants
- Replaced all emoji string literals with AppStrings constants
- Maintained visual appearance (no UI changes)
- Used imports for new constant files

## Issues Encountered

None

## Next Step

Ready for 02-03-PLAN.md - Replace hardcoded values in services
